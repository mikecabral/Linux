#### **Managing System Logs**
  
**boot.log** – contains **log** **entries** for **daemons** as they were started during **bootup**
**boot.msg** – contains **all** the **messages** displayed on screen during **system** **boot**
**faillog** – contains **failed** **authentication** **attempts**
**firewall** – contains **firewall** log **entries**
**lastlog** – contains the **last** **login** **information** for users**mail** – contains **messages** generated by the **postfix** and **sendmail** daemons**messages** – contains **messages** from **most** running **processes**. This is probably one of the most useful of all log files
**warn** – contains **warning** **messages**
**wtmp** – contains a list of **users** who have **authenticated** to the **system**
**xinetd.log** – contains **log** **entries** from the **xinetd** **daemon**
  
#### **syslogd**
Uses **init** and is usually handled by the **syslogd** daemon. Instead of each daemon maintaining its own individual log file, **most** of your Linux **services** are configured to **write** log entries to **/dev/log** by default.  
The syslogd daemon then uses entries in the **/etc/syslog.conf** file to determine where the information should go.**##the syntax for the syslog.conf file**facility.priority file  

#### Facilities

A **facility** refers to a **subsystem** that **provides** a **message**. Each **process** on your Linux system that uses **syslog** for **logging** is assigned to one for the following facilities:

**authpriv** - Facility used by **all** **services** associated with **system** **security** or **authorization**
**cron** - Facility that **accepts** **log** **messages** from **cron** and **at**
**daemon** - Facility that can be **used** by **daemons** that do not have **their** **own** **facility**
**kern** - Facility used for **all** **kernel** **log** **messages**
**lpr** - Facility that handles **messages** from the **printing** **system**
**mail** - Facility for **log** **messages** from the **mail** **MTA** (such as **postfix** or **sendmail**)
**news** - Facility for **log** **messages** from the **news** **daemon**
**syslog** - Facility for **internal** **messages** from the **syslog** **daemon** itself
**user** - Facility for **user-related log messages** (such as failed login attempts)
**uucp** - Facility for **log** **messages** from the **uucp** **daemon**
**local0–local7** - Facilities you can use to **capture** **log** **messages** from your **own** **applications** that you develop

In addition to facilities, the syslog daemon also provides priorities that you can use to customize how logging occurs on your system. Prioritization is handled by the klogd daemon on most distros. You can use the following priorities with syslogd:

**debug** - **All** information
**info** - **Informational** messages
**notice** - **Issues** of concern, but not yet a problem
**warn** - **Noncritical** errors
**err** - **Serious** errors
**crit**, **alert**, or **emerg -** Critical errors

##### Test your Logging Configuration using the Logger Utility
```bash
logger -p facility.priority “log_message”
```

Some distrbutions use the **logrotated daemon** to manage log file rotation
These defaults can be overridden for **specific daemons** using the **config** **files** located in **/etc/logrotate.d**

Each app has their own, example: **/etc/logrotate.d/apache2**

##### After the Log File is Rotated the Reload command will be run
```bash
postrotate /etc/init.d/apache2 reload
```

Log to a remote server... edit the **/etc/syslog.conf** and **add** the following line to the beginning of the file:
##### Redirects All messages to a log server host
```bash
*.* @IP_address_of_loghost
```
**Close, Save, Restart the syslogd daemon**

To configure the log server to receive log messages from the other systems, complete the following:
**a**. in a text editor open **/etc/sysconfig/syslog**
**b.** locate to **SYSLOGD_PARAMS** directive  
**c.** set the value of the **SYSLOGD_PARAMS** directive to **-r**
**d.** **save** the **changes** then **exit** the file
**e.**  restart **syslogd**

#### **journald**
Newer Linux distros that use **systemd** use the **journald** daemon for **logging** instead of syslog. The journald daemon maintains a system log called the journal (located in **/var/log/journal/**). You can **view** the **journal** using the **journalctl** command. If you enter this command with no parameters, the entire journal is displayed.

##### View system boot messages
```bash
journalctl -b
```

##### View System Boot Messages from **First Boot** found at the **Beginning** of the Journal
```bash
journalctl -b 1
```

##### View System Boot Messages created Two Boots ago**
```bash
journalctl -b -2
```

##### Display only Log Entries related to a Specific Service
```bash
journalctl -u service_name
```

Configured using the **/etc/systemd/journald.conf** file. Parameters listed here:

**MaxFileSec** - Specifies the **maximum** amount of **time** to store entries in the journal file **before** starting a **new** **file**.

**MaxRetentionSec** - Specifies the **maximum** amount of **time** to store journal entries. Any entries **older** **than** the **specified** **time** are **automatically** **deleted** from the journal file.
**ForwardToSyslog** - Configures journald to **forward** its **log** **messages** to the traditional **syslog** daemon.

**MaxLevelStore** - Controls the **maximum** log level of **messages** **stored** in the journal file. All messages equal to or less than the log level specified are stored, whereas any messages above the specified level are dropped. This parameter can be set to one of the following values:

**emerg (0)**
**alert (1)**
**crit (2)**
**err (3)**
**warning (4)**
**notice (5)**
**info (6)**
**debug (7)**

**Fedora Specific Log Files**
**cron** - Contains entries from the cron daemon
**dmesg** - Contains hardware detection information
**maillog** - Contains entries generated by the sendmail daemon
**secure** - Contains information about access to network daemons
**rpmpkgs** - Contains a list of installed rpm packages

**Lastlog**
Contains a list of all the users in the system and when they last logged in, located in **/var/log/lastlog**
**-l** seconds – locks the account for the specified number of seconds after a failed login attempt
**-m** number – sets the maximum number of failed login attempts before the user account is disabled

##### Use to View Login-Related Entries. (Can also do the same thing with journalctl)
```bash
cat /var/log/messages | grep login | more
```
  
**Who**
**who** – see who is **currently** **logged** **in** to the system.. also w works
```bash
w
```
